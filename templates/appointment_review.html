{% extends "base.html" %}

{% block title %}Review Appointment{% endblock %}

{% block content %}
<div class="appointment-page-wrapper py-5" style="min-height: 100vh; background-image: url('{{ url_for('static', filename='images/background.jpg') }}'); background-size: cover; background-position: center; background-attachment: fixed;">

    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-7">

                <div class="appointment-card p-4 p-md-5 border rounded shadow-lg"
                     style="background-color: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">

                    <a href="{{ url_for('view_appointments') }}" class="back-link mb-4 d-inline-block"
                       style="color: #4b0082; font-weight: 600; text-decoration: none;">
                        &larr; Back to Change Date/Time
                    </a>

                    <h2 class="text-center mb-5" style="color: #4169E1; font-weight: 700;">Review & Confirm</h2>

                    <div class="card mb-5" style="border: 2px solid #e0e0f0; border-radius: 12px;">
                        <div class="card-header bg-light fw-bold" style="color: #6A5ACD; border-top-left-radius: 10px; border-top-right-radius: 10px;">
                            Your Appointment Details
                        </div>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item"><strong>Therapist:</strong> {{ therapist }}</li>
                            <li class="list-group-item"><strong>Date:</strong> {{ date }}</li>
                            <li class="list-group-item"><strong>Time:</strong> {{ time }}</li>
                            <li class="list-group-item bg-light">
                                <strong>Client Name:</strong> {{ user.username }}
                                </li>
                        </ul>
                    </div>

                    <div class="mb-5 p-3 rounded" style="background-color: #fff8e1; border: 1px dashed #ffd700;">
                        <h4 class="fw-bold" style="color: #daa520;">Note for Therapist:</h4>
                        <p class="mb-0 text-muted">{{ note if note != 'No note provided.' else 'No specific note was provided.' }}</p>
                    </div>

                    <form method="POST" action="{{ url_for('confirm_appointment') }}">
                        <div class="mt-4 pt-4 border-top text-center">
                            <button type="submit"
                               class="btn btn-lg w-75 fw-bold"
                               style="background: linear-gradient(to right, #6A5ACD, #4169E1); color: white; border: none; border-radius: 30px; padding: 12px 25px; transition: all 0.3s ease;">
                                Book My Appointment Now
                            </button>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}