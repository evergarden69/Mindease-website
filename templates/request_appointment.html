{% extends "base.html" %}

{% block title %}Find Provider{% endblock %}

{% block content %}
<div class="appointment-page-wrapper py-5" style="min-height: 100vh; background-image: url('{{ url_for('static', filename='images/background.jpg') }}'); background-size: cover; background-position: center; background-attachment: fixed;">

    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-7">

                {# --- START BACK BUTTON/LINK FIX (Outside White Box, Styled Like View Appointments) --- #}
                <div class="mb-3">
                    <a href="{{ url_for('community_dashboard') }}"
                       class="text-decoration-none fw-bold"
                       style="color: #6A5ACD;">
                        &larr; Back to Dashboard
                    </a>
                </div>
                {# --- END BACK BUTTON/LINK FIX --- #}

                <div class="appointment-card p-4 p-md-5 border rounded shadow-lg"
                     style="background-color: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">

                    <h2 class="text-center mb-4" style="color: #4b0082; font-weight: 700;">Find a Provider</h2>
                    <p class="text-center mb-5 text-muted">Select your preferred location and service type to check availability.</p>

                    <form method="POST" action="{{ url_for('view_appointments') }}" id="provider-form">

                        <div class="mb-4">
                            <label for="location_select" class="form-label fw-bold" style="color: #5d5dff;">Clinic Location</label>
                            <select id="location_select" name="location" class="form-select form-select-lg" required
                                    style="border: 1px solid #ddd; border-radius: 8px;">
                                <option value="" disabled selected>Choose a clinic location</option>
                                <option value="MC">Makati City, MC</option>
                                <option value="Manda">Mandaluyong, Manda</option>
                                <option value="TC">Taguig City, TC</option>
                            </select>
                        </div>

                        <div class="mb-5">
                            <label for="service_select" class="form-label fw-bold" style="color: #5d5dff;">Service Type</label>
                            <select id="service_select" name="service_type" class="form-select form-select-lg" required
                                    style="border: 1px solid #ddd; border-radius: 8px;">
                                <option value="" disabled selected>Choose a service category</option>
                                <option value="therapy">Therapy (Counseling)</option>
                                <option value="psychiatry">Psychiatry (Medication Mgt)</option>
                                <option value="substance">Substance Counseling</option>
                            </select>
                        </div>

                        <div class="mt-4 pt-4 border-top text-center">
                            <button type="submit"
                               class="btn btn-lg w-75 fw-bold"
                               style="background: linear-gradient(to right, #6A5ACD, #4169E1); color: white; border: none; border-radius: 30px; padding: 12px 25px; transition: all 0.3s ease;">
                                Continue to Scheduling &rarr;
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}